<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Новини</title>
    <style>
        body {
            font-family: 'Open Sans', sans-serif;
            margin: 0;
            padding: 20px;
            background-color: #f3f3f3;
            color: black;
        }
        .news-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 20px;
        }
        .news-card {
            background: #ffffff;
            border-radius: 12px;
            box-shadow: 0 2px 6px rgba(0,0,0,0.05);
            padding: 15px;
            transition: transform 0.3s ease;
        }
        .news-card:hover {
            transform: scale(1.02);
        }
        .news-title {
            font-family: 'Open Sans', sans-serif;
            font-size: 16px;
            font-weight: bold;
            color: black;
            text-decoration: none;
            display: block;
            margin-bottom: 10px;
        }
        .news-title:hover {
            color: #2778a3;
        }
        .news-meta {
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: 13px;
            color: #555;
        }
        .badge {
            background-color: #f0f0f0;
            border: 1px solid #aaa;
            color: black;
            padding: 3px 8px;
            border-radius: 4px;
            font-size: 12px;
        }

        /* Адаптація для мобільних */
        @media (max-width: 768px) {
            .news-grid {
                grid-template-columns: 1fr !important;
            }
            body {
                padding: 10px !important;
            }
        }
    </style>
</head>
<body>
    <div id="news-container" class="news-grid">
        Завантаження новин...
    </div>

    <script>
        // Функція для обробки JSONP відповіді
        function handleNewsData(data) {
            const newsContainer = document.getElementById('news-container');
            if (data && data.length > 0) {
                newsContainer.innerHTML = data.map(item => `
                    <div class="news-card">
                        <a href="${item.link}" class="news-title" target="_blank">${item.title}</a>
                        <div class="news-meta">
                            <span class="badge">${item.source}</span>
                            <span>${new Date(item.date).toLocaleDateString('uk-UA')}</span>
                        </div>
                    </div>
                `).join('');
            } else {
                newsContainer.innerHTML = '<p>Не вдалося завантажити новини.</p>';
            }
        }

        // Функція для обробки помилок
        function handleNewsError() {
            document.getElementById('news-container').innerHTML = '<p>Помилка завантаження новин.</p>';
        }

        // Створюємо script тег для JSONP запиту
        const script = document.createElement('script');
        script.src = 'https://https://script.google.com/macros/s/AKfycby80WD06Ucp_VADMjI5fA8o_ncFp0w3rHU4kphc42r6PG8gFLxGoU0ISTbBacYqGW-jZA/exec?callback=handleNewsData';
        script.onerror = handleNewsError;
        
        // Додаємо script до документу для виконання запиту
        document.head.appendChild(script);
    </script>
</body>
</html>
